% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ss2ContinuousApprox.R
\name{ss2ContinuousApprox}
\alias{ss2ContinuousApprox}
\title{Sample Size Calculation for Two Co-Primary Continuous Endpoints (Approximate)}
\usage{
ss2ContinuousApprox(
  delta1,
  delta2,
  sd1,
  sd2,
  rho,
  r,
  alpha,
  beta,
  known_var = TRUE,
  nMC = 10000
)
}
\arguments{
\item{delta1}{Mean difference for the first endpoint}

\item{delta2}{Mean difference for the second endpoint}

\item{sd1}{Common standard deviation for the first endpoint}

\item{sd2}{Common standard deviation for the second endpoint}

\item{rho}{Common correlation between the two outcomes}

\item{r}{Allocation ratio of group 1 to group 2 (group 1:group 2 = r:1, where r > 0)}

\item{alpha}{One-sided significance level (typically 0.025 or 0.05)}

\item{beta}{Target type II error rate (typically 0.1 or 0.2)}

\item{known_var}{Logical value indicating whether variance is known (TRUE) or
unknown (FALSE). If TRUE, power is calculated analytically; otherwise,
Monte Carlo simulation is used for unknown variance}

\item{nMC}{Number of Monte Carlo simulations when known_var = FALSE (default is 10000)}
}
\value{
A data frame with the following columns:
\item{delta1, delta2}{Mean differences}
\item{sd1, sd2}{Standard deviations}
\item{rho}{Correlation}
\item{r}{Allocation ratio}
\item{alpha}{One-sided significance level}
\item{beta}{Type II error rate}
\item{known_var}{Variance assumption}
\item{nMC}{Number of Monte Carlo simulations (NA if known_var = TRUE)}
\item{n1}{Required sample size for group 1}
\item{n2}{Required sample size for group 2}
\item{n}{Total sample size (n1 + n2)}
}
\description{
Calculates the required sample size for a two-arm superiority trial with two
co-primary continuous endpoints using linear extrapolation approach, as
described in Hamasaki et al. (2013) and Sozu et al. (2011).
}
\details{
This function uses a linear extrapolation algorithm (Hamasaki et al. 2013) to
efficiently determine the required sample size that achieves power of at least
\eqn{1-\beta} for both co-primary endpoints.

The algorithm works as follows:
\enumerate{
\item Initialize two sample sizes: \eqn{n_{2,0}} using target power \eqn{1-\beta}
and \eqn{n_{2,1}} using adjusted power \eqn{1-\sqrt{1-\beta}}
\item Calculate power at both sample sizes
\item Use linear extrapolation to estimate sample size achieving target power:
\deqn{n_{2,new} = \frac{n_{2,0}(power_{n_{2,1}} - (1-\beta)) - n_{2,1}(power_{n_{2,0}} - (1-\beta))}{power_{n_{2,1}} - power_{n_{2,0}}}}
\item Update values and repeat until convergence
}

For known variance, the standardized test statistics are:
\deqn{Z_k = \frac{\delta_k}{\sigma_k \sqrt{1/n_1 + 1/n_2}}}
For unknown variance, t-statistics with \eqn{\nu = n_1 + n_2 - 2} degrees of
freedom are used, and power is calculated using Monte Carlo simulation following
Sozu et al. (2011).
}
\examples{
# Sample size calculation with known variance
ss2ContinuousApprox(
  delta1 = 0.2,
  delta2 = 0.2,
  sd1 = 1,
  sd2 = 1,
  rho = 0.5,
  r = 1,
  alpha = 0.025,
  beta = 0.1,
  known_var = TRUE
)

# Sample size calculation with unequal allocation
ss2ContinuousApprox(
  delta1 = 0.3,
  delta2 = 0.25,
  sd1 = 1,
  sd2 = 1,
  rho = 0.3,
  r = 2,
  alpha = 0.025,
  beta = 0.2,
  known_var = TRUE
)

\donttest{
# Sample size calculation with unknown variance
ss2ContinuousApprox(
  delta1 = 0.5,
  delta2 = 0.4,
  sd1 = 1,
  sd2 = 1,
  rho = 0.4,
  r = 1,
  alpha = 0.025,
  beta = 0.1,
  known_var = FALSE,
  nMC = 10000
)
}

}
\references{
Hamasaki, T., Sugimoto, T., Evans, S. R., & Sozu, T. (2013). Sample size
determination for clinical trials with co-primary outcomes: Exponential event
times. \emph{Pharmaceutical Statistics}, 12(1), 28-34.

Sozu, T., Sugimoto, T., & Hamasaki, T. (2011). Sample size determination in
superiority clinical trials with multiple co-primary correlated endpoints.
\emph{Journal of Biopharmaceutical Statistics}, 21(4), 650-668.
}
