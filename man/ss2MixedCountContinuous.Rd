% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ss2MixedCountContinuous.R
\name{ss2MixedCountContinuous}
\alias{ss2MixedCountContinuous}
\title{Sample Size Calculation for Two Co-Primary Endpoints (Count and Continuous)}
\usage{
ss2MixedCountContinuous(
  r1,
  r2,
  nu,
  t,
  mu1,
  mu2,
  sd,
  r,
  rho1,
  rho2,
  alpha,
  beta
)
}
\arguments{
\item{r1}{Mean rate (events per unit time) for the treatment group (count endpoint)}

\item{r2}{Mean rate (events per unit time) for the control group (count endpoint)}

\item{nu}{Common dispersion parameter for the negative binomial distribution (nu > 0)}

\item{t}{Common follow-up time period}

\item{mu1}{Mean for group 1 (continuous endpoint)}

\item{mu2}{Mean for group 2 (continuous endpoint)}

\item{sd}{Common standard deviation for the continuous endpoint}

\item{r}{Allocation ratio of group 1 to group 2 (group 1:group 2 = r:1, where r > 0)}

\item{rho1}{Correlation between count and continuous outcomes for treatment group}

\item{rho2}{Correlation between count and continuous outcomes for control group}

\item{alpha}{One-sided significance level (typically 0.025 or 0.05)}

\item{beta}{Target type II error rate (typically 0.1 or 0.2)}
}
\value{
A data frame with the following columns:
\item{r1}{Mean rate in group 1 for count endpoint}
\item{r2}{Mean rate in group 2 for count endpoint}
\item{nu}{Dispersion parameter}
\item{t}{Follow-up time}
\item{mu1}{Mean in group 1 for continuous endpoint}
\item{mu2}{Mean in group 2 for continuous endpoint}
\item{sd}{Standard deviation for continuous endpoint}
\item{r}{Allocation ratio}
\item{rho1}{Correlation for group 1}
\item{rho2}{Correlation for group 2}
\item{alpha}{One-sided significance level}
\item{beta}{Type II error rate}
\item{n1}{Required sample size for group 1}
\item{n2}{Required sample size for group 2}
\item{N}{Total sample size (n1 + n2)}
}
\description{
Calculates the required sample size for a two-arm superiority trial with one
overdispersed count and one continuous co-primary endpoints
using the linear extrapolation approach.
}
\details{
This function uses the linear extrapolation approach to find the required
sample size iteratively:

\strong{Step 1:} Initialize with sample sizes from single endpoint formulas.
Two initial values are calculated:
\itemize{
\item n2_0: Based on target power 1 - beta
\item n2_1: Based on adjusted power 1 - sqrt(1-beta) to provide a bracket
}

\strong{Step 2-4:} Iteratively refine using linear extrapolation until convergence:
\deqn{n_2^{new} = \frac{n_2^{(0)}(power^{(1)} - (1-\beta)) - n_2^{(1)}(power^{(0)} - (1-\beta))}
      {power^{(1)} - power^{(0)}}}

The algorithm converges when \eqn{n_2^{(1)} = n_2^{(0)}}.

The correlation bounds are automatically checked using \code{\link{corrbound2MixedContinuousCount}}.
If the specified correlation is outside the valid range, an error is issued.
}
\examples{
# Sample size calculation for COPD trial scenario
ss2MixedCountContinuous(
  r1 = 1.0, r2 = 1.25, nu = 0.8, t = 1,
  mu1 = -50, mu2 = 0, sd = 250,
  r = 1, rho1 = 0.5, rho2 = 0.5,
  alpha = 0.025, beta = 0.1
)

# Multiple dispersion parameters
ss2MixedCountContinuous(
  r1 = 1.0, r2 = 1.25, nu = 1, t = 1,
  mu1 = -50, mu2 = 0, sd = 250,
  r = 1, rho1 = 0.6, rho2 = 0.6,
  alpha = 0.025, beta = 0.1
)

# Zero correlation (independent endpoints)
ss2MixedCountContinuous(
  r1 = 1.0, r2 = 1.5, nu = 1, t = 1,
  mu1 = -40, mu2 = 0, sd = 200,
  r = 1, rho1 = 0, rho2 = 0,
  alpha = 0.025, beta = 0.2
)

}
\references{
Homma, G., & Yoshida, T. (2024). Sample size calculation in clinical trials
with two co-primary endpoints including overdispersed count and continuous
outcomes. \emph{Pharmaceutical Statistics}, 23(1), 46-59.
}
