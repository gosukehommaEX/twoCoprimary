% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ss2BinaryApprox.R
\name{ss2BinaryApprox}
\alias{ss2BinaryApprox}
\title{Sample Size Calculation for Two Co-Primary Binary Endpoints (Approximate)}
\usage{
ss2BinaryApprox(p11, p12, p21, p22, rho1, rho2, r, alpha, beta, Test)
}
\arguments{
\item{p11}{True probability of responders in group 1 for the first outcome (0 < p11 < 1)}

\item{p12}{True probability of responders in group 1 for the second outcome (0 < p12 < 1)}

\item{p21}{True probability of responders in group 2 for the first outcome (0 < p21 < 1)}

\item{p22}{True probability of responders in group 2 for the second outcome (0 < p22 < 1)}

\item{rho1}{Correlation between the two outcomes for group 1}

\item{rho2}{Correlation between the two outcomes for group 2}

\item{r}{Allocation ratio of group 1 to group 2 (group 1:group 2 = r:1, where r > 0)}

\item{alpha}{One-sided significance level (typically 0.025 or 0.05)}

\item{beta}{Target type II error rate (typically 0.1 or 0.2)}

\item{Test}{Statistical testing method. One of:
\itemize{
\item \code{"AN"}: Asymptotic normal method without continuity correction
\item \code{"ANc"}: Asymptotic normal method with continuity correction
\item \code{"AS"}: Arcsine method without continuity correction
\item \code{"ASc"}: Arcsine method with continuity correction
}}
}
\value{
A data frame with the following columns:
\item{p11, p12, p21, p22}{Response probabilities}
\item{rho1, rho2}{Correlations}
\item{r}{Allocation ratio}
\item{alpha}{One-sided significance level}
\item{beta}{Type II error rate}
\item{Test}{Testing method used}
\item{n1}{Required sample size for group 1}
\item{n2}{Required sample size for group 2}
\item{n}{Total sample size (n1 + n2)}
}
\description{
Determines the sample size for a two-arm superiority trial with two co-primary
binary endpoints using approximate methods, to achieve a specified power at a
given significance level.
}
\details{
This function uses linear extrapolation algorithm for efficient sample size
determination. The algorithm iteratively refines the sample size estimate:

\strong{Step 1:} Initialize with sample sizes from single endpoint formulas

\strong{Step 2-4:} Iteratively refine using linear extrapolation:
\deqn{n_2^{new} = \frac{n_2^{(0)}(power^{(1)} - (1-\beta)) - n_2^{(1)}(power^{(0)} - (1-\beta))}
      {power^{(1)} - power^{(0)}}}

The algorithm converges when \eqn{n_2^{(1)} = n_2^{(0)}}.

\strong{Note on Fisher's Exact Test:}
Fisher's exact test is not supported in this function because the saw-tooth
nature of exact power makes linear extrapolation inappropriate. For Fisher's
exact test with co-primary endpoints, use \code{\link{ss2BinaryExact}} instead.
}
\examples{
# Example 1: AN method with rho = 0.8 (from Sozu et al. 2010)
ss2BinaryApprox(
  p11 = 0.7,
  p12 = 0.7,
  p21 = 0.5,
  p22 = 0.5,
  rho1 = 0.8,
  rho2 = 0.8,
  r = 1,
  alpha = 0.025,
  beta = 0.2,
  Test = 'AN'
)

# Example 2: Balanced design with arcsine method
ss2BinaryApprox(
  p11 = 0.6,
  p12 = 0.5,
  p21 = 0.4,
  p22 = 0.3,
  rho1 = 0.5,
  rho2 = 0.5,
  r = 1,
  alpha = 0.025,
  beta = 0.2,
  Test = 'AS'
)

# Example 3: With continuity correction
ss2BinaryApprox(
  p11 = 0.55,
  p12 = 0.45,
  p21 = 0.35,
  p22 = 0.25,
  rho1 = 0.6,
  rho2 = 0.6,
  r = 1,
  alpha = 0.025,
  beta = 0.1,
  Test = 'ANc'
)

}
\references{
Sozu, T., Sugimoto, T., & Hamasaki, T. (2010). Sample size determination in
clinical trials with multiple co-primary binary endpoints. \emph{Statistics in
Medicine}, 29(21), 2169-2179.
}
